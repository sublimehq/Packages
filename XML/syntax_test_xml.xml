<!-- SYNTAX TEST "Packages/XML/XML.sublime-syntax" -->


<!--
  XML Declaration
 -->

     <?xml version="1.0" ?>
<!-- ^^^^^^^^^^^^^^^^^^^^^^ meta.tag.preprocessor -->
<!-- ^^ punctuation.definition.tag.begin -->
<!--   ^^^ entity.name.tag -->
<!--       ^^^^^^^ entity.other.attribute-name -->
<!--              ^ punctuation.separator.key-value -->
<!--               ^ punctuation.definition.string.begin -->
<!--               ^^^^^ string.quoted -->
<!--                   ^ punctuation.definition.string.end -->
<!--                     ^^ punctuation.definition.tag.end -->
<!--                       ^ - meta.tag.preprocessor -->

     <?XML version="1.0" ?>
<!-- ^ invalid.illegal.missing-entity - meta.tag.preprocessor -->

     <?xml-stylesheet type='text/xsl' href='freb.xsl'?>
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.tag.preprocessor -->
<!--                                                   ^ - meta.tag.preprocessor -->
<!-- ^^ punctuation.definition.tag.begin -->
<!--   ^^^^^^^^^^^^^^ entity.name.tag -->
<!--                 ^ - entity -->
<!--                  ^^^^ entity.other.attribute-name.localname -->
<!--                      ^ punctuation.separator.key-value -->
<!--                       ^ punctuation.definition.string.begin -->
<!--                       ^^^^^^^^^^ string.quoted.single -->
<!--                                ^ punctuation.definition.string.end -->
<!--                                 ^ - string -->

     <?XML-STYLESHEET TYPE='TEXT/XSL' HREF='FREB.XSL'?>
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.tag.preprocessor -->
<!--                                                   ^ - meta.tag.preprocessor -->
<!-- ^^ punctuation.definition.tag.begin -->
<!--   ^^^^^^^^^^^^^^ entity.name.tag -->
<!--                 ^ - entity -->
<!--                  ^^^^ entity.other.attribute-name.localname -->
<!--                      ^ punctuation.separator.key-value -->
<!--                       ^ punctuation.definition.string.begin -->
<!--                       ^^^^^^^^^^ string.quoted.single -->
<!--                                ^ punctuation.definition.string.end -->
<!--                                 ^ - string -->

     <?xml-model href="http://www.oxygenxml.com/docbook/xml/5.0/rng/dbmathmlsvg.rng" schematypens="http://relaxng.org/ns/structure/1.0"?>
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.tag.preprocessor -->
<!--   ^^^^^^^^^ entity.name.tag -->
<!--             ^^^^ entity.other.attribute-name.localname -->
<!--                 ^ punctuation.separator.key-value -->
<!--                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ string.quoted.double -->
<!--                                                                                                                                   ^^ punctuation.definition.tag.end -->

<!--
  DOCTYPE Declaration
 -->

     <!DOCTYPE root PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/1999/xhtml">
 <!--^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^  meta.tag.doctype -->
<!-- ^^ punctuation.definition.tag.begin -->
<!--   ^^^^^^^ entity.name.tag.doctype -->
<!--           ^^^^ constant.language.doctype.xml -->
<!--                ^^^^^^ keyword.content.external -->
<!--                       ^ string.quoted.double -->
<!--                                                   ^ string.quoted.double -->
<!--                                                                                 ^ punctuation.definition.tag.end     -->

     <!DOCTYPE
     <!-- <- meta.tag.doctype -->
<!-- ^^ punctuation.definition.tag.begin -->
<!--   ^^^^^^^ entity.name.tag.doctype -->
        root
<!-- <- meta.tag.doctype -->
<!--    ^^^^ constant.language.doctype.xml -->
        PUBLIC
<!-- <- meta.tag.doctype -->
<!--    ^^^^^^ keyword.content.external -->
        "-//W3C//DTD XHTML 1.1//EN"
<!-- <- meta.tag.doctype -->
<!--    ^ string.quoted.double -->
        "http://www.w3.org/1999/xhtml"
<!-- <- meta.tag.doctype -->
<!--    ^ string.quoted.double -->
        [
<!--    ^ punctuation.section.brackets.begin -->
            <!ELEMENT p "">
<!--    <- meta.brackets meta.internal-subset.xml.dtd -->
        ]
<!--    <- meta.brackets meta.internal-subset.xml.dtd -->
<!--    ^ punctuation.section.brackets.end -->
     >
<!-- ^ meta.tag.doctype -->
<!-- ^ punctuation.definition.tag.end -->

     <!DOCTYPE root [<!ENTITY br "\n" <!-- comment --> > %name; <!-- comment --> ]>
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.tag.doctype  -->
<!--                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.brackets meta.internal-subset.xml.dtd -->
<!--                   ^^^^^^ meta.tag.declaration.entity -->
<!--                         ^^^ meta.tag.declaration.entity.name -->
<!--                            ^ meta.tag.declaration.entity.type.dtd -->
<!--                             ^^^^^^^^^^^^^^^^^^^^^^^ meta.tag.declaration.entity.content.internal -->
<!-- ^^ punctuation.definition.tag.begin -->
<!--   ^^^^^^^ entity.name.tag.doctype -->
<!--           ^^^^ constant.language.doctype.xml -->
<!--                ^ punctuation.section.brackets.begin -->
<!--                 ^^ punctuation.definition.tag.begin -->
<!--                   ^^^^^^ entity.name.tag.entity -->
<!--                          ^^ variable.entity -->
<!--                             ^ punctuation.definition.string.begin -->
<!--                             ^^^^ string.quoted.double -->
<!--                                ^ punctuation.definition.string.end -->
<!--                                  ^^^^^^^^^^^^^^^^ comment.block -->
<!--                                                   ^ punctuation.definition.tag.end -->
<!--                                                     ^ punctuation.definition.variable.begin -->
<!--                                                      ^^^^ variable.parameter -->
<!--                                                          ^ punctuation.definition.variable.end -->
<!--                                                            ^^^^^^^^^^^^^^^^ comment.block -->
<!--                                                            ^^^^ punctuation.definition.comment.begin -->
<!--                                                                         ^^^ punctuation.definition.comment.end -->
<!--                                                                             ^ punctuation.section.brackets.end -->
<!--                                                                              ^ punctuation.definition.tag.end -->

<!DOCTYPE data [
<!-- ^ entity.name.tag.doctype -->
<!--      ^ constant.language.doctype.xml -->
<!--           ^ punctuation.section.brackets.begin -->

<!ENTITY name PUBLIC "content" <!-- comment --> >
<!-- ^ entity.name.tag.entity -->
<!--     ^^^^ variable.entity -->
<!--          ^^^^^^ keyword.content.external -->
<!--                 ^^^^^^^^^ string.quoted.double -->
<!--                           ^^^^^^^^^^^^^^^^ comment.block -->

<!ENTITY auml  "&#228;">
<!-- ^ entity.name.tag.entity -->
<!--      ^ variable.entity -->
<!--           ^ string.quoted.double -->
<!--            ^ constant.character.entity -->

<!ELEMENT ArticleTitle (#PCDATA)>
<!-- ^ entity.name.tag.element -->
<!--      ^ variable.element -->
<!--                   ^ punctuation.definition.group -->
<!--                    ^ variable.language.parsed-character-data -->
<!--                           ^ punctuation.definition.group -->

<!ELEMENT AbstractText (#PCDATA)>

<!ELEMENT info (ArticleTitle,AbstractText)+>
<!-- ^ entity.name.tag.element -->
<!--      ^ variable.element -->
<!--           ^ punctuation.definition.group -->
<!--                        ^ punctuation.separator -->
<!--                                     ^ punctuation.definition.group -->
<!--                                      ^ keyword.operator -->

<!ATTLIST image width CDATA #REQUIRED>
<!-- ^ entity.name.tag.attlist -->
<!--      ^ variable.element -->
<!--            ^ entity.other.attribute-name -->

<!NOTATION name PUBLIC "public_ID" "URI">
<!-- ^ entity.name.tag.notation -->
<!--       ^ variable.notation -->
<!--                   ^ string.quoted.double -->

]>
<!-- <- meta.brackets meta.internal-subset.xml.dtd punctuation.section.brackets.end -->

<!--
  Comments
 -->

     <!-- A Comment! -->
<!-- ^^^^ punctuation.definition.comment.begin -->
<!--     ^ - punctuation.definition.comment.begin -->
<!-- ^^^^^^^^^^^^^^^^^^^ comment.block -->
<!--                 ^^^ punctuation.definition.comment.end -->
<!--                    ^ - comment.block -->

     <!-- tags and character entities inside me will be ignored <foobar hello="world" /> &amp; <unclosed <!--  -->
<!-- ^^^^ punctuation.definition.comment.begin -->
<!--     ^ - punctuation.definition.comment.begin -->
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ comment.block - meta.tag - constant.character.entity -->
<!--                                                                                                           ^^^ punctuation.definition.comment.end -->
<!--                                                                                                              ^ - comment.block -->
<!--                                                                                                     ^^^^ - punctuation.definition -->

     <!-- <![CDATA[[ignored -->
<!-- ^^^^ punctuation.definition.comment.begin -->
<!--     ^ - punctuation.definition.comment.begin -->
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^ comment.block - string.unquoted.cdata -->
<!--                        ^^^ punctuation.definition.comment.end -->
<!--                           ^ - comment.block -->

     <!-- multi
          line
          comment -->
<!-- <- comment.block -->
<!-- ^^^^^^^^^^^^^^^^ comment.block -->
<!--              ^^^ punctuation.definition.comment.end -->
<!--                 ^ - comment.block -->

<!--
  Elements / Tags
 -->

     <ns:tagname xmlns:ns="uri">
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.tag -->
<!--                            ^ - meta.tag -->
<!-- ^ punctuation.definition.tag.begin -->
<!--  ^^ entity.name.tag.namespace -->
<!--    ^ punctuation.separator.namespace -->
<!--     ^^^^^^^ entity.name.tag.localname -->
<!--            ^ - entity -->
<!--             ^^^^^ entity.other.attribute-name.namespace -->
<!--                  ^ punctuation.separator.namespace -->
<!--                   ^^ entity.other.attribute-name.localname -->
<!--                      ^ punctuation.definition.string.begin -->
<!--                      ^^^^^ string.quoted -->
<!--                          ^ punctuation.definition.string.end -->
<!--                           ^ punctuation.definition.tag.end -->
     text
<!-- ^^^^ text -->
     >
<!-- ^ text - punctuation - illegal -->

     <NS:TAGNAME XMLNS:NS="URI">
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.tag -->
<!--                            ^ - meta.tag -->
<!-- ^ punctuation.definition.tag.begin -->
<!--  ^^ entity.name.tag.namespace -->
<!--    ^ punctuation.separator.namespace -->
<!--     ^^^^^^^ entity.name.tag.localname -->
<!--            ^ - entity -->
<!--             ^^^^^ entity.other.attribute-name.namespace -->
<!--                  ^ punctuation.separator.namespace -->
<!--                   ^^ entity.other.attribute-name.localname -->
<!--                      ^ punctuation.definition.string.begin -->
<!--                      ^^^^^ string.quoted -->
<!--                          ^ punctuation.definition.string.end -->
<!--                           ^ punctuation.definition.tag.end -->
     text
<!-- ^^^^ text -->
     >
<!-- ^ text - punctuation - illegal -->

     <![CDATA[<!DOCTYPE catalog plist "dtd">]]>
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.tag.cdata.xml -->
<!-- ^^^ punctuation.definition.tag.begin.xml -->
<!--    ^^^^^ entity.name.tag.cdata.xml -->
<!--         ^ punctuation.definition.tag.begin.xml - string.unquoted.cdata -->
<!--          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ string.unquoted.cdata -->
<!--                                        ^^^ punctuation.definition.tag.end.xml - string.unquoted.cdata -->

     <?pi "markup" is <ignored>?>
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.tag.preprocessor -->
<!-- ^^ punctuation.definition.tag.begin -->
<!--   ^^ entity.name.tag -->
<!--                           ^^ punctuation.definition.tag.end -->
<!--                             ^ - meta.tag.preprocessor -->

     <таĝñäᴹə ατţř="șƬűʃ⨍" >Contents</таĝñäᴹə>
<!-- ^^^^^^^^^^^^^^^^^^^^^^^ meta.tag -->
<!-- ^ punctuation.definition.tag.begin -->
<!--  ^^^^^^^ entity.name.tag.localname -->
<!--         ^ - entity.name.tag.localname -->
<!--          ^^^^ entity.other.attribute-name.localname -->
<!--              ^ punctuation.separator.key-value - entity.other.attribute-name.localname -->
<!--               ^^^^^^^ string.quoted -->
<!--                      ^ - string.quoted - punctuation.definition -->
<!--                       ^ punctuation.definition.tag.end -->
<!--                        ^^^^^^^^ text - meta.tag -->
<!--                                ^^ punctuation.definition.tag.begin -->
<!--                                ^^^^^^^^^^ meta.tag -->
<!--                                  ^^^^^^^ entity.name.tag.localname -->
<!--                                         ^ punctuation.definition.tag.end -->
<!--                                          ^ - meta.tag -->

     <example ñș:äpos ='&apos;'/>
<!-- ^ punctuation.definition.tag.begin -->
<!--                           ^^ punctuation.definition.tag.end - string -->
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.tag -->
<!--                             ^ - meta.tag -->
<!--          ^^ entity.other.attribute-name.namespace -->
<!--            ^ entity.other.attribute-name punctuation.separator.namespace -->
<!--             ^^^^ entity.other.attribute-name.localname -->
<!--                  ^ punctuation.separator.key-value -->
<!--                   ^^^^^^^^ string.quoted.single -->
<!--                   ^ punctuation.definition.string.begin -->
<!--                          ^ punctuation.definition.string.end -->
<!--                     ^^^^^ constant.character.entity -->


     </ns:tagname>
<!-- ^^^^^^^^^^^^^ meta.tag -->
<!--              ^ - meta.tag -->
<!-- ^^ punctuation.definition.tag.begin -->
<!--   ^^ entity.name.tag.namespace -->
<!--     ^ punctuation.separator.namespace -->
<!--      ^^^^^^^ entity.name.tag.localname -->
<!--             ^ punctuation.definition.tag.end -->

     <element attr_with.space = "value" />
<!--          ^^^^^^^^^^^^^^^ entity.other.attribute-name.localname -->
<!--                          ^ punctuation.separator.key-value -->
<!--                            ^ punctuation.definition.string.begin -->
<!--                             ^^^^^ string.quoted -->

     <element validinattr="a > b ]]> c"/>
<!--                       ^^^^^^^^^^^ string.quoted - punctuation - illegal -->

     <test
foo="bar" />
<!-- <- entity.other.attribute-name.localname -->
<!-- ^^^ string.quoted.double -->
<!--     ^ - string.quoted.double -->

     <xs:sequence/>
<!-- ^^^^^^^^^^^^^^ meta.tag -->
<!--               ^ - meta.tag -->
<!-- ^ punctuation.definition.tag.begin -->
<!--  ^^ entity.name.tag.namespace -->
<!--    ^ punctuation.separator.namespace -->
<!--     ^^^^^^^^ entity.name.tag.localname -->
<!--             ^^ punctuation.definition.tag.end -->


<!--
  Entities
 -->

     &amp;
<!-- ^ punctuation.definition.entity -->
<!--  ^^^ - punctuation.definition.entity -->
<!-- ^^^^^ constant.character.entity -->
<!--     ^ punctuation.definition.entity -->
<!--      ^ - constant.character.entity - punctuation.definition.entity -->

     &#160;
<!-- ^ punctuation.definition.entity -->
<!--   ^^^ - punctuation.definition.entity -->
<!-- ^^^^^^ constant.character.entity -->
<!--      ^ punctuation.definition.entity -->
<!--       ^ - constant.character.entity -->

     <!-- &amp; -->
<!--      ^ -punctuation.definition.entity -->

     <example attr="&quot;test&quot;" />
<!--               ^^^^^^^^^^^^^^^^^^ string.quoted.double -->
<!--                                 ^ - string.quoted.double -->
<!--                ^^^^^^ constant.character.entity -->
<!--                          ^^^^^^ constant.character.entity -->

<!--
  Illegals
 -->

     &
<!-- ^ invalid.illegal.bad-ampersand -->
<!--  ^ - invalid.illegal.bad-ampersand -->

     <1tag></-tag>
<!--  ^^^^ invalid.illegal - entity.name.tag -->
<!--         ^^^^ invalid.illegal - entity.name.tag -->
<!--      ^ punctuation.definition.tag.end -->
<!--       ^ punctuation.definition.tag.begin -->
<!--             ^ punctuation.definition.tag.end -->
<!-- ^^^^^^^^^^^^^ meta.tag -->
<!--              ^ - meta.tag -->

     <1tag attr1="ok" 2attr="nope"></-tag>
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.tag -->
<!-- ^ punctuation.definition.tag.begin -->
<!--  ^^^^ invalid.illegal - entity.name.tag -->
<!--      ^^^^^^^^^^^^ - invalid.illegal - entity.name.tag -->
<!--       ^^^^^ entity.other.attribute-name.localname -->
<!--            ^ punctuation.separator.key-value -->
<!--             ^^^^ string.quoted -->
<!--                  ^^^^^ invalid.illegal - entity.other.attribute-name.localname -->
<!--                        ^^^^^ string.quoted -->
<!--                              ^ punctuation.definition.tag.end -->
<!--                               ^^ punctuation.definition.tag.begin -->
<!--                                 ^^^^ invalid.illegal - entity.name.tag -->
<!--                                     ^ punctuation.definition.tag.end -->
<!--                                      ^ - meta.tag -->

     <
<!-- ^ invalid.illegal.missing-entity -->
<!--  ^ - invalid.illegal.missing-entity -->

     ]]>
<!-- ^^^ invalid.illegal.missing-entity -->
<!--    ^ - invalid.illegal.missing-entity -->

     <ns::tag ns::attr1="na" ns:2attr ="nope"></ns:t:ag>
<!-- ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.tag -->
<!-- ^ punctuation.definition.tag.begin -->
<!--  ^^ entity.name.tag -->
<!--    ^^^^^ invalid.illegal.bad-tag-name - entity.name.tag -->
<!--          ^^^^^^^^^ invalid.illegal.bad-attribute-name - entity.other.attribute-name -->
<!--                   ^ punctuation.separator.key-value -->
<!--                    ^^^^ string.quoted -->
<!--                         ^^^^^^^^ invalid.illegal.bad-attribute-name - entity.other.attribute-name -->
<!--                                  ^ punctuation.separator.key-value -->
<!--                                   ^^^^^^ string.quoted -->
<!--                                         ^ punctuation.definition.tag.end -->
<!--                                          ^^ punctuation.definition.tag.begin -->
<!--                                            ^^^^ entity.name.tag -->
<!--                                                ^^^ invalid.illegal.bad-tag-name - entity.name.tag -->
<!--                                                   ^ punctuation.definition.tag.end -->
<!--                                                    ^ - meta.tag -->

    <!-- comments containing double hyphens -- are illegal and can't be ended with more than 2 hyphens --->, so should end here: -->
<!--                                        ^^ comment.block invalid.illegal.double-hyphen-within-comment -->
<!--                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ comment.block - invalid -->
<!--                                                                                                   ^^^ comment.block invalid.illegal.double-hyphen-within-comment -->
<!--                                                                                                                             ^^^ comment.block punctuation.definition.comment.end -->
<!--                                                                                                                                ^ - comment -->
