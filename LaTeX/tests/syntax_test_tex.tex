% SYNTAX TEST "Packages/LaTeX/TeX.sublime-syntax"

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                 Macro definitions - \def, \gdef, \edef, \xdef
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Check the main scopes
  \def\macro{replacement}
% ^^^^ meta.function.tex keyword.declaration.function.tex storage.modifier.definition.tex
%     ^^^^^^ meta.function.identifier.tex entity.name.definition.tex
%            ^^^^^^^^^^^^ meta.function.body.tex

% Check puncutation scopes
  \def\macro{replacement}
% ^ punctuation.definition.backslash.tex
%     ^ punctuation.definition.backslash.tex
%           ^ punctuation.definition.group.brace.begin.tex
%                       ^ punctuation.definition.group.brace.end.tex


% examples taken from https://en.wikibooks.org/wiki/TeX/def

% With spaces and parameter specification
 \def \foo [#1]#2{The first argument is ``#1'', the second one is ``#2''}
%^^^^ keyword.declaration.function.tex storage.modifier.definition.tex
%^^^^^ meta.function.tex
%     ^^^^ meta.function.identifier.tex entity.name.definition.tex
%         ^^^^^^^ meta.function.parameters.tex -meta.function.tex
%           ^^ variable.parameter.tex
%              ^^ variable.parameter.tex
%                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.function.body.tex

% With line continuation
 \def \foo [#1]#2%
%^^^^ keyword.declaration.function.tex storage.modifier.definition.tex
%^^^^^meta.function.tex
%     ^^^^ meta.function.identifier.tex entity.name.definition.tex
%         ^^^^^^^ meta.function.parameters.tex
%                ^^ comment.line.percentage.tex
  {The first argument is ``#1''.
% ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ meta.function.body.tex
  The second one is ``#2''}
% ^^^^^^^^^^^^^^^^^^^^^^^^^ meta.function.body.tex

% With nested braces
 \def \author {William {\sc Smith}}
%^^^^ keyword.declaration.function.tex storage.modifier.definition.tex
%^^^^^ meta.function.tex
%     ^^^^^^^ meta.function.identifier.tex entity.name.definition.tex
%            ^ meta.function.parameters.tex
%             ^^^^^^^^^^^^^^^^^^^^^ meta.function.body.tex


% gdef as a global variation of def
 \gdef\macro{replacement}
%^^^^^ meta.function.tex keyword.declaration.function.tex storage.modifier.definition.tex
%     ^^^^^^ meta.function.identifier.tex entity.name.definition.tex
%            ^^^^^^^^^^^^ meta.function.body.tex

% edef as an immediately expanded version of def. Note that here,
% argument specifications would not be allowed by TeX.
 \edef\macro{replacement}
%^^^^^ meta.function.tex keyword.declaration.function.tex storage.modifier.definition.tex
%     ^^^^^^ meta.function.identifier.tex entity.name.definition.tex
%            ^^^^^^^^^^^^ meta.function.body.tex



% And now, the really weird cases
%  escaped characters in the argument specification
%   hash
 \def\macro\#1#1{replacement}
%          ^^^^^ meta.function.parameters.tex
%          ^^ constant.character.escape.tex
%            ^ - variable.parameter.tex
%             ^^ variable.parameter.tex

%   open-brace
 \def\macro\{#1{replacement}
%          ^^^^ meta.function.parameters.tex
%          ^^ constant.character.escape.tex
%            ^^ variable.parameter.tex
%              ^^^^^^^^^^^^^ meta.function.body.tex meta.group.brace.tex


%    double escape
 \def\macro\\#1{replacement}
%          ^^^^ meta.function.parameters.tex
%          ^^constant.character.escape.tex
%            ^^ variable.parameter.tex


%  defining special character macros
 \def\_{underscore}
%^^^^ meta.function.tex keyword.declaration.function.tex storage.modifier.definition.tex
%    ^^ meta.function.identifier.tex entity.name.definition.tex
%      ^^^^^^^^^^^^ meta.function.body.tex

%  stop scope for incomplete defs
\def\text

some other text
% ^^^^^^^^^^^^^^ - meta.function%

%  incomplete but with parameters; the { comes too late to open the function definition
\def\text A#1A

  { some other text}
% ^^^^^^^^^^^^^^ - meta.function

%  command just prefixed with def. Needs to be picked up as a custom command
\deftext
%^^^^^^^ support.function.general.tex


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                 Modifiers
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

 \long\def\test#1{#1}
%^^^^^ storage.modifier.definition.tex
%^ punctuation.definition.backslash.tex
%     ^^^^ meta.function.tex keyword.declaration.function.tex storage.modifier.definition.tex

 \outer\def\test#1{#1}
%^^^^^^ storage.modifier.definition.tex
%^ punctuation.definition.backslash.tex
%      ^^^^ meta.function.tex keyword.declaration.function.tex storage.modifier.definition.tex

 \global\def\test#1{#1}
%^^^^^^^ storage.modifier.definition.tex
%^ punctuation.definition.backslash.tex
%       ^^^^ meta.function.tex keyword.declaration.function.tex storage.modifier.definition.tex


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                 Macro definition contents
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% testing control keywords, parameter placeholders, and escaping of placeholders
\def\test{\ifmmode #2 \#2}
%^^^^^^^^^^^^^^^^^^^^^^^^^ - meta.function meta.function
%^^^ meta.function.tex
%   ^^^^^ meta.function.identifier.tex
%        ^^^^^^^^^^^^^^^^^ meta.function.body.tex meta.group.brace.tex
%^^^ keyword.declaration.function.tex storage.modifier.definition.tex
%   ^^^^^ entity.name.definition.tex
%        ^ punctuation.definition.group.brace.begin.tex
%         ^^^^^^^^ keyword.control.conditional.if.tex
%         ^ punctuation.definition.backslash.tex
%                  ^^ variable.parameter.tex
%                  ^ punctuation.definition.placeholder.tex
%                   ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                     ^^ constant.character.escape.tex
%                     ^ punctuation.definition.backslash.tex
%                        ^ punctuation.definition.group.brace.end.tex


% testing registers and nested braces
\def\test{\dimen5 {#2} \alpha}
%^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ - meta.function meta.function
%^^^ meta.function.tex
%   ^^^^^ meta.function.identifier.tex
%        ^^^^^^^^^^^^^^^^^^^^^ meta.function.body.tex meta.group.brace.tex
%         ^^^^^^^ meta.register.tex
%                 ^^^^ meta.group.brace.tex meta.group.brace.tex
%^^^ keyword.declaration.function.tex storage.modifier.definition.tex
%   ^^^^^ entity.name.definition.tex
%        ^ punctuation.definition.group.brace.begin.tex
%               ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                  ^^ variable.parameter.tex
%                      ^^^^^^ keyword.other.math.greek.tex


% testing incomplete register specification
\def\test{\dimen} other text
%^^^^^^^^^^^^^^^^ - meta.function meta.function
%^^^ meta.function.tex
%   ^^^^^ meta.function.identifier.tex
%        ^^^^^^^^ meta.function.body.tex meta.group.brace.tex
%         ^^^^^^ meta.register.tex
%                ^^^^^^^^^^^ - meta.function.body

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                 Control flow / Conditionals
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\if something \fi
%^^ keyword.control.conditional.if.tex
%             ^^^ keyword.control.conditional.end.tex


\ifcase 2 a\or b\or c\or d\else e\fi
%^^^^^^ keyword.control.conditional.switch.tex
%          ^^^ keyword.control.conditional.case.tex
%                         ^^^^^ keyword.control.conditional.else.tex
%                                ^^^ keyword.control.conditional.end.tex


% a loop example from https://en.wikibooks.org/wiki/LaTeX/Plain_TeX#Loops
\count255 = 1
\loop
%^^^^ keyword.control.loop.do-while.tex
  \TeX
\ifnum\count255 < 10
%^^^^^ keyword.control.conditional.if.tex
\advance\count255 by 1
\repeat
%^^^^^^ keyword.control.loop.end.tex


\if@director
%^^ - keyword.control.conditional.if
 custom if
\else
%^^^^ keyword.control.conditional.else.tex
\fi
%^^ keyword.control.conditional.end.tex

\relax
%^^^^^ keyword.control.flow.relax.tex

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                               Registers
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\muskip5
%^^^^^^ storage.type.tex
%^^^^^^^ meta.register.tex
%      ^ meta.number.integer.decimal.tex constant.numeric.value.tex

\box 60
%^^^ storage.type.tex
%^^^^^^ meta.register.tex
%    ^^ meta.number.integer.decimal.tex constant.numeric.value.tex

\skip5 10
%^^^^^ meta.register.tex
%      ^^ - meta.register.tex

\counting
%^^^^^^^^ - meta.register.tex

\newdimen\mydimen
%^^^^^^^^^^^^^^^^ meta.register.tex - meta.register meta.register
%^^^^^^^^ keyword.declaration.register.tex storage.modifier.register.tex
%        ^^^^^^^^ entity.name.constant.tex
%        ^ punctuation.definition.backslash.tex

\newcount { \mycounter }
%^^^^^^^^^^^^^^^^^^^^^^^ meta.register.tex - meta.register meta.register
%^^^^^^^^ keyword.declaration.register.tex storage.modifier.register.tex
%         ^^^^^^^^^^^^^^ meta.group.brace.tex
%           ^^^^^^^^^^ entity.name.constant.tex
%         ^ punctuation.definition.group.brace.begin.tex
%           ^ punctuation.definition.backslash.tex
%                      ^ punctuation.definition.group.brace.end.tex

% A very weird case where we use a macro for the register id. In this case
% we just scope the macro like we would any other.
\def\five{5}
\toks \five = 8
%^^^^^^^^^^ meta.register.tex
%^^^^ storage.type.tex
%     ^^^^^ support.function.general.tex
%     ^ punctuation.definition.backslash.tex
%           ^ keyword.operator.assignment.tex
%             ^ meta.number.integer.decimal.tex constant.numeric.value.tex


\count255 = 1
%^^^^^^^^ meta.register.tex
%^^^^^ storage.type.tex
%     ^^^ meta.number.integer.decimal constant.numeric.value.tex
%         ^ keyword.operator.assignment.tex
%           ^ meta.number.integer.decimal.tex constant.numeric.value.tex

\dimen\dim50em plus 1ex
%^^^^^^^^^ meta.register.tex
%^^^^^ storage.type.tex
%     ^^^^ support.function.general.tex
%     ^ punctuation.definition.backslash.tex
%         ^^^^ meta.number.integer.decimal.tex
%         ^^ constant.numeric.value.tex
%           ^^ constant.numeric.suffix.tex
%              ^^^^ keyword.operator.arithmetic.tex
%                   ^^^ meta.number.integer.decimal.tex
%                   ^ constant.numeric.value.tex
%                    ^^ constant.numeric.suffix.tex


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                 Character Codes
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\catcode65=12
%^^^^^^^^^^^^ meta.function.character-code.tex
%^^^^^^^ keyword.control.character-code.tex
%       ^^ meta.number.integer.decimal.tex constant.numeric.value.tex
%         ^ keyword.operator.assignment.tex
%          ^^ meta.number.integer.decimal.tex constant.numeric.value.tex


% here are some assignments that happen in `plain.tex`

\catcode`@=11
%^^^^^^^^^^^^ meta.function.character-code.tex
%^^^^^^^ keyword.control.character-code.tex
%       ^^ meta.number.integer.tex
%       ^ keyword.operator.tex
%        ^ constant.character.tex
%         ^ keyword.operator.assignment.tex
%          ^^ meta.number.integer.decimal.tex constant.numeric.value.tex

\catcode`\^^K=7
%^^^^^^^^^^^^^^ meta.function.character-code.tex
%^^^^^^^ keyword.control.character-code.tex
%       ^^^^^ meta.number.integer.tex
%       ^ keyword.operator.tex
%        ^ punctuation.definition.backslash.tex
%         ^^^ constant.character.tex
%            ^ keyword.operator.assignment.tex
%             ^ meta.number.integer.decimal.tex constant.numeric.value.tex

\mathcode`\^^D="225E
%^^^^^^^^^^^^^^^^^^^ meta.function.character-code.tex
%^^^^^^^^ keyword.control.character-code.tex
%        ^^^^^ meta.number.integer.tex
%        ^ keyword.operator.tex
%         ^ punctuation.definition.backslash.tex
%          ^^^ constant.character.tex
%             ^ keyword.operator.assignment.tex
%              ^^^^^ meta.number.integer.hexadecimal.tex constant.numeric.value.tex

\delcode`\\="26E30F
%^^^^^^^^^^^^^^^^^^ meta.function.character-code.tex
%^^^^^^^ keyword.control.character-code.tex
%       ^^^ meta.number.integer.tex
%       ^ keyword.operator.tex
%        ^ punctuation.definition.backslash.tex
%         ^ constant.character.tex
%          ^ keyword.operator.assignment.tex
%           ^^^^^^^ meta.number.integer.hexadecimal.tex constant.numeric.value.tex

% some other assignments

% skip the = sign
\catcode`@11
%^^^^^^^^^^^ meta.function.character-code.tex
%^^^^^^^ keyword.control.character-code.tex
%       ^^ meta.number.integer.tex
%       ^ keyword.operator.tex
%        ^ constant.character.tex
%         ^^ meta.number.integer.decimal.tex constant.numeric.value.tex

% hex-specifier
\catcode`\^^ab=11
%^^^^^^^^^^^^^^^^ meta.function.character-code.tex
%^^^^^^^ keyword.control.character-code.tex
%       ^^^^^^ meta.number.integer.tex
%       ^ keyword.operator.tex
%        ^ punctuation.definition.backslash.tex
%         ^^^^ constant.character.tex
%             ^ keyword.operator.assignment.tex
%              ^^ meta.number.integer.decimal.tex constant.numeric.value.tex


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                 Constants
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pretolerance=100
%^^^^^^^^^^^^ constant.language.tex
%            ^ keyword.operator.assignment.tex
%             ^^^ meta.number.integer.decimal.tex constant.numeric.value.tex
\tolerance=200
%^^^^^^^^^ constant.language.tex
\hbadness=1000
%^^^^^^^^ constant.language.tex
\vbadness=1000
%^^^^^^^^ constant.language.tex
\linepenalty=10
%^^^^^^^^^^^ constant.language.tex
\hyphenpenalty=50
%^^^^^^^^^^^^^ constant.language.tex
\exhyphenpenalty=50
%^^^^^^^^^^^^^^^ constant.language.tex
\binoppenalty=700
%^^^^^^^^^^^^ constant.language.tex
\relpenalty=500
%^^^^^^^^^^ constant.language.tex
\clubpenalty=150
%^^^^^^^^^^^ constant.language.tex
\widowpenalty=150
%^^^^^^^^^^^^ constant.language.tex
\displaywidowpenalty=50
%^^^^^^^^^^^^^^^^^^^ constant.language.tex
\brokenpenalty=100
%^^^^^^^^^^^^^ constant.language.tex
\predisplaypenalty=10000
%^^^^^^^^^^^^^^^^^ constant.language.tex
\postdisplaypenalty=0
%^^^^^^^^^^^^^^^^^^ constant.language.tex
\interlinepenalty=0
%^^^^^^^^^^^^^^^^ constant.language.tex
\floatingpenalty=0
%^^^^^^^^^^^^^^^ constant.language.tex
\outputpenalty=0
%^^^^^^^^^^^^^ constant.language.tex
\doublehyphendemerits=10000
%^^^^^^^^^^^^^^^^^^^^ constant.language.tex
\finalhyphendemerits=5000
%^^^^^^^^^^^^^^^^^^^ constant.language.tex
\adjdemerits=10000
%^^^^^^^^^^^ constant.language.tex
\looseness=0
%^^^^^^^^^ constant.language.tex
\pausing=0
%^^^^^^^ constant.language.tex
\holdinginserts=0
%^^^^^^^^^^^^^^ constant.language.tex
\tracingonline=0
%^^^^^^^^^^^^^ constant.language.tex
\tracingmacros=0
%^^^^^^^^^^^^^ constant.language.tex
\tracingstats=0
%^^^^^^^^^^^^ constant.language.tex
\tracingparagraphs=0
%^^^^^^^^^^^^^^^^^constant.language.tex
\tracingpages=0
%^^^^^^^^^^^^ constant.language.tex
\tracingoutput=0
%^^^^^^^^^^^^^ constant.language.tex
\tracinglostchars=1
%^^^^^^^^^^^^^^^^ constant.language.tex
\tracingcommands=0
%^^^^^^^^^^^^^^^ constant.language.tex
\tracingrestores=0
%^^^^^^^^^^^^^^^ constant.language.tex
\language=0
%^^^^^^^^ constant.language.tex
\uchyph=1
%^^^^^^ constant.language.tex
\lefthyphenmin=2
%^^^^^^^^^^^^^ constant.language.tex
\righthyphenmin=3
%^^^^^^^^^^^^^^ constant.language.tex
\globaldefs=0
%^^^^^^^^^^ constant.language.tex
\maxdeadcycles=25
%^^^^^^^^^^^^^ constant.language.tex
\hangafter=1
%^^^^^^^^^ constant.language.tex
\fam=0
%^^^ constant.language.tex
\mag=1000
%^^^ constant.language.tex

\escapechar=`\\
%^^^^^^^^^^ constant.language.tex
%          ^ keyword.operator.assignment.tex
%           ^^^ meta.number.integer
%           ^ keyword.operator.tex
%            ^ punctuation.definition.backslash.tex
%             ^ constant.character.tex
\defaulthyphenchar=`\-
%^^^^^^^^^^^^^^^^^ constant.language.tex
\defaultskewchar=-1
%^^^^^^^^^^^^^^^ constant.language.tex
%               ^ keyword.operator.assignment.tex
%                ^^ meta.number.integer.decimal.tex constant.numeric.value.tex
\endlinechar=`\^^M
%^^^^^^^^^^^ constant.language.tex
\newlinechar=-1
%^^^^^^^^^^^ constant.language.tex
\delimiterfactor=901
%^^^^^^^^^^^^^^^ constant.language.tex
\time
%^^^^ constant.language.tex
\day
%^^^ constant.language.tex
\month
%^^^^^ constant.language.tex
\year
%^^^^ constant.language.tex
\showboxbreadth=5
%^^^^^^^^^^^^^^ constant.language.tex
\showboxdepth=3
%^^^^^^^^^^^^ constant.language.tex
\errorcontextlines=5
%^^^^^^^^^^^^^^^^^ constant.language.tex

\hfuzz=0.1pt
%^^^^^ constant.language.tex
%     ^ keyword.operator.assignment.tex
%      ^^^^^ meta.number.float.decimal.tex
%      ^^^ constant.numeric.value.tex
%       ^ punctuation.separator.decimal.tex
%         ^^ constant.numeric.suffix.tex
\vfuzz=0.1 pt
%^^^^^ constant.language.tex
%     ^ keyword.operator.assignment.tex
%      ^^^^^^ meta.number.float.decimal.tex
%      ^^^ constant.numeric.value.tex
%       ^ punctuation.separator.decimal.tex
%          ^^ constant.numeric.suffix.tex

% check that we can put comment-based line breaks here
\overfullrule=%
%^^^^^^^^^^^^ constant.language.tex
%            ^ keyword.operator.assignment.tex
   5pt
%  ^^^ meta.number.integer.decimal.tex
%  ^ constant.numeric.value.tex
%   ^^ constant.numeric.suffix.tex

\hsize=6.5in
%^^^^^ constant.language.tex
%     ^ keyword.operator.assignment.tex
%      ^^^^^ meta.number.float.decimal.tex
%      ^^^ constant.numeric.value.tex
%       ^ punctuation.separator.decimal.tex
%         ^^ constant.numeric.suffix.tex
\vsize=8.9in
%^^^^^ constant.language.tex
%     ^ keyword.operator.assignment.tex
%      ^^^^^ meta.number.float.decimal.tex
%      ^^^ constant.numeric.value.tex
%       ^ punctuation.separator.decimal.tex
%         ^^ constant.numeric.suffix.tex
\maxdepth=.4pt
%^^^^^^^^ constant.language.tex
%        ^ keyword.operator.assignment.tex
%         ^^^^ meta.number.float.decimal.tex
%         ^^ constant.numeric.value.tex
%         ^ punctuation.separator.decimal.tex
%           ^^ constant.numeric.suffix.tex


\splitmaxdepth=\maxdimen
%^^^^^^^^^^^^^ constant.language.tex
%             ^ keyword.operator.assignment.tex
%              ^^^^^^^^^ constant.language.tex
%              ^ punctuation.definition.backslash.tex
\boxmaxdepth=\maxdimen
%^^^^^^^^^^^ constant.language.tex
\lineskiplimit=0pt
%^^^^^^^^^^^^^ constant.language.tex
\delimitershortfall=5pt
%^^^^^^^^^^^^^^^^^^ constant.language.tex
\nulldelimiterspace=1.2pt
%^^^^^^^^^^^^^^^^^^ constant.language.tex
\scriptspace=0.5pt
%^^^^^^^^^^^ constant.language.tex
\mathsurround=0pt
%^^^^^^^^^^^^ constant.language.tex
\predisplaysize=0pt
%^^^^^^^^^^^^^^ constant.language.tex
\displaywidth=0pt
%^^^^^^^^^^^^ constant.language.tex
\displayindent=0pt
%^^^^^^^^^^^^^ constant.language.tex
\parindent=20pt
%^^^^^^^^^ constant.language.tex
\hangindent=0pt
%^^^^^^^^^^ constant.language.tex
\hoffset=0pt
%^^^^^^^ constant.language.tex
\voffset=0pt
%^^^^^^^ constant.language.tex

\baselineskip=0pt
%^^^^^^^^^^^^ constant.language.tex
\lineskip=0pt
%^^^^^^^^ constant.language.tex
\parskip=0pt plus 1pt
%^^^^^^^ constant.language.tex
%       ^ keyword.operator.assignment.tex
%        ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%         ^^ constant.numeric.suffix.tex
%            ^^^^ keyword.operator.arithmetic.tex
%                 ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                  ^^ constant.numeric.suffix.tex

\abovedisplayskip=12pt plus 3pt minus 9pt
%^^^^^^^^^^^^^^^^ constant.language.tex
%                ^ keyword.operator.assignment.tex
%                 ^^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                   ^^ constant.numeric.suffix.tex
%                      ^^^^ keyword.operator.arithmetic.tex
%                           ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                            ^^ constant.numeric.suffix.tex
%                               ^^^^^ keyword.operator.arithmetic.tex
%                                     ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                                      ^^ constant.numeric.suffix.tex
\abovedisplayshortskip=0pt plus 3pt
%^^^^^^^^^^^^^^^^^^^^^ constant.language.tex
\belowdisplayskip=12pt plus 3pt minus 9pt
%^^^^^^^^^^^^^^^^ constant.language.tex
\belowdisplayshortskip=7pt plus 3pt minus 4pt
%^^^^^^^^^^^^^^^^^^^^^ constant.language.tex
\leftskip=0pt
%^^^^^^^^ constant.language.tex
\rightskip=0pt
%^^^^^^^^^ constant.language.tex
\topskip=10pt
%^^^^^^^ constant.language.tex
\splittopskip=10pt
%^^^^^^^^^^^^ constant.language.tex
\tabskip=0pt
%^^^^^^^ constant.language.tex
\spaceskip=0pt
%^^^^^^^^^ constant.language.tex
\xspaceskip=0pt
%^^^^^^^^^^ constant.language.tex
\parfillskip=0pt plus 1fil
%^^^^^^^^^^^ constant.language.tex
%           ^ keyword.operator.assignment.tex
%            ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%             ^^ constant.numeric.suffix.tex
%                ^^^^ keyword.operator.arithmetic.tex
%                     ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                      ^^^ constant.numeric.suffix.tex


\thinmuskip=3mu
%^^^^^^^^^^ constant.language.tex
%          ^ keyword.operator.assignment.tex
%           ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%            ^^ constant.numeric.suffix.tex

\medmuskip=4mu plus 2mu minus 4mu
%^^^^^^^^^ constant.language.tex
%         ^ keyword.operator.assignment.tex
%          ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%           ^^ constant.numeric.suffix.tex
%              ^^^^ keyword.operator.arithmetic.tex
%                   ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                    ^^ constant.numeric.suffix.tex
%                       ^^^^^ keyword.operator.arithmetic.tex
%                             ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                              ^^ constant.numeric.suffix.tex
\thickmuskip=5mu plus 5mu
%^^^^^^^^^^^ constant.language.tex

\smallskipamount=3pt plus 1pt minus 1pt
%^^^^^^^^^^^^^^^ constant.language.tex
\medskipamount=6pt plus 2pt minus 2pt
%^^^^^^^^^^^^^ constant.language.tex
\bigskipamount=12pt plus 4pt minus 4pt
%^^^^^^^^^^^^^ constant.language.tex
\normalbaselineskip=12pt
%^^^^^^^^^^^^^^^^^^ constant.language.tex
\normallineskip=1pt
%^^^^^^^^^^^^^^ constant.language.tex
\normallineskiplimit=0pt
%^^^^^^^^^^^^^^^^^^^ constant.language.tex
\jot=3pt
%^^^ constant.language.tex
\interdisplaylinepenalty=100
%^^^^^^^^^^^^^^^^^^^^^^^ constant.language.tex
\interfootnotelinepenalty=100
%^^^^^^^^^^^^^^^^^^^^^^^^ constant.language.tex

\maxdimen
%^^^^^^^^ constant.language.tex
\centering
%^^^^^^^^^ constant.language.tex
\p@
%^^ constant.language.tex
\z@
%^^ constant.language.tex
\z@skip
%^^^^^^ constant.language.tex
\voidb@x
%^^^^^^^ constant.language.tex
\magstephalf
%^^^^^^^^^^^ constant.language.tex
\magstep4
%^^^^^^^^ constant.language.tex
\@ne
%^^^ constant.language.tex
\tw@
%^^^ constant.language.tex
\thr@@
%^^^^^ constant.language.tex
\sixt@@n
%^^^^^^^ constant.language.tex
\@cclv
%^^^^^ constant.language.tex
\@cclvi
%^^^^^^ constant.language.tex
\@m
%^^ constant.language.tex
\@M
%^^ constant.language.tex
\@MM
%^^^ constant.language.tex
\m@ne
%^^^^ constant.language.tex

\count@=255
%^^^^^^ constant.language.tex
%      ^ keyword.operator.assignment.tex
%       ^^^ meta.number.integer.decimal.tex constant.numeric.value.tex
\dimen@=0
%^^^^^^ constant.language.tex
\dimen@i=1
%^^^^^^^ constant.language.tex
\dimen@ii=2
%^^^^^^^^ constant.language.tex
\skip@=0
%^^^^^ constant.language.tex
\toks@=0
%^^^^^ constant.language.tex

% Assignments without equals sign
\baselineskip-1000\p@
%^^^^^^^^^^^^ constant.language.tex
%            ^^^^^ meta.number.integer.decimal.tex constant.numeric.value.tex
%            ^ keyword.operator.arithmetic.tex
%                 ^^^ constant.language.tex
%                 ^ punctuation.definition.backslash.tex

% Using weird ways to specify a number
\abovedisplayskip=`\^^Z ex
%^^^^^^^^^^^^^^^^ constant.language.tex
%                ^ keyword.operator.assignment.tex
%                 ^^^^^^^ meta.number.integer.decimal.tex
%                 ^ keyword.operator.tex
%                  ^ punctuation.definition.backslash.tex
%                   ^^^ constant.character.tex
%                       ^^ constant.numeric.suffix.tex

\abovedisplayskip=`\a ex
%^^^^^^^^^^^^^^^^ constant.language.tex
%                ^ keyword.operator.assignment.tex
%                 ^^^^^^ meta.number.integer.decimal.tex
%                 ^ keyword.operator.tex
%                  ^ punctuation.definition.backslash.tex
%                   ^ constant.character.tex
%                     ^^ constant.numeric.suffix.tex


% The macro-type constants. They cannot be assigned using =
\thinspace=5pt
%^^^^^^^^^ constant.language.tex
%         ^ - keyword.operator.assignment.tex

\negthinspace
%^^^^^^^^^^^^ constant.language.tex
\enspace
%^^^^^^^ constant.language.tex
\enskip
%^^^^^^ constant.language.tex
\quad
%^^^^ constant.language.tex
\qquad
%^^^^^ constant.language.tex
\smallskip
%^^^^^^^^^ constant.language.tex
\medskip
%^^^^^^^ constant.language.tex
\bigskip
%^^^^^^^ constant.language.tex
\space
%^^^^^ constant.language.tex
\empty
%^^^^^ constant.language.tex
\null
%^^^^ constant.language.tex
\lq
%^^ constant.language.tex
\rq
%^^ constant.language.tex
\lbrack
%^^^^^^ constant.language.tex
\rbrack
%^^^^^^ constant.language.tex

% check that we don't pick it up if it is just the beginning of a word
\jota
%^^^^ - constant.language.tex

% Check that a number is required
\jot=pt
%    ^^ - constant.numeric.suffix.tex
\jot=5pt pt
%        ^^ - constant.numeric.suffix.tex

\jot=5pt plus plus
%             ^^^^ - keyword

\jot=5pt plusword
%        ^^^^ - keyword

\jot=plus
%    ^^^^ - keyword

% \relax is a no-op that can be used to ensure that the following characters
% will not be parsed as part of the quantity
\jot=5pt \relax plus 10pt
%               ^^^^ - keyword.operator
%^^^ constant.language.tex
%   ^ keyword.operator.assignment.tex
%    ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%     ^^ constant.numeric.suffix.tex
%        ^^^^^^ keyword.control.flow.relax.tex
%        ^ punctuation.definition.backslash.tex

% Finally, test that we can safely use constants inside macro definitions

% No assignment, the = is outside of the macro
\def\macro{\abovedisplayskip}=5pt
%                            ^ - keyword.operator.assignment.tex
%^^^ meta.function.tex keyword.declaration.function.tex storage.modifier.definition.tex
%   ^^^^^^ meta.function.identifier.tex entity.name.definition.tex
%   ^ punctuation.definition.backslash.tex
%         ^^^^^^^^^^^^^^^^^^^ meta.function.body.tex meta.group.brace.tex
%         ^ punctuation.definition.group.brace.begin.tex
%          ^^^^^^^^^^^^^^^^^ constant.language.tex
%          ^ punctuation.definition.backslash.tex
%                           ^ punctuation.definition.group.brace.end.tex

% No value, the 5 is outside of the macro
\def\macro{\abovedisplayskip=}5
%                             ^ - meta.number


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                 Math
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

$f(x) = x^2$
% <- meta.environment.math.inline.dollar.tex string.other.math.tex punctuation.definition.string.begin.tex
%^^^^^^^^^^ meta.environment.math.inline.dollar.tex - string
%          ^ meta.environment.math.inline.dollar.tex string.other.math.tex punctuation.definition.string.end.tex

$$f(x) = x^2$$
% <- meta.environment.math.block.dollar.tex string.other.math.tex punctuation.definition.string.begin.tex
%^ meta.environment.math.block.dollar.tex string.other.math.tex punctuation.definition.string.begin.tex
% ^^^^^^^^^^ meta.environment.math.block.dollar.tex - string
%           ^^ meta.environment.math.block.dollar.tex string.other.math.tex punctuation.definition.string.end.tex

$\iota$
%^^^^^ keyword.other.math.greek.tex
%^ punctuation.definition.backslash.tex

$\Iota$
%^^^^^ support.function.math.tex - keyword.other
%^ punctuation.definition.backslash.tex

$\alpha _$
%^^^^^^ keyword.other.math.greek.tex
%^ punctuation.definition.backslash.tex
%       ^ punctuation.separator.indice.tex

$\alpha_$
%^^^^^^ keyword.other.math.greek.tex
%^ punctuation.definition.backslash.tex
%      ^ punctuation.separator.indice.tex

$$
% <- meta.environment.math.block.dollar.tex string.other.math.tex punctuation.definition.string.begin.tex
%^^ meta.environment.math.block.dollar.tex
%^ string.other.math.tex punctuation.definition.string.begin.tex

  0 1 2 3 4 5 6 7 8 9 10 11
% ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%   ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%     ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%       ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%         ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%           ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%             ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%               ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                 ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                   ^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                     ^^ meta.number.integer.decimal.tex constant.numeric.value.tex
%                        ^^ meta.number.integer.decimal.tex constant.numeric.value.tex

  1.0
%^ - meta.number - constant
% ^^^ meta.number.float.decimal.tex constant.numeric.value.tex
%  ^ punctuation.separator.decimal.tex
%    ^ - meta.number - constant

  0.2
%^ - meta.number - constant
% ^^^ meta.number.float.decimal.tex constant.numeric.value.tex
%  ^ punctuation.separator.decimal.tex
%    ^ - meta.number - constant

  .4
%^ - meta.number - constant
% ^^ meta.number.float.decimal.tex constant.numeric.value.tex
% ^ punctuation.separator.decimal.tex
%   ^ - meta.number - constant

  ()
% ^ punctuation.section.parens.begin.tex
%  ^ punctuation.section.parens.end.tex

  []
% ^ punctuation.section.brackets.begin.tex
%  ^ punctuation.section.brackets.end.tex

  \{ \}
%^ - constant
% ^^ constant.character.escape.tex
%   ^ - constant
%    ^^ constant.character.escape.tex
%      ^ - constant

  c = a + b - d * f / g!
% ^ variable.other.math.tex
%   ^ keyword.operator.assignment.tex
%     ^ variable.other.math.tex
%       ^ keyword.operator.arithmetic.tex
%         ^ variable.other.math.tex
%           ^ keyword.operator.arithmetic.tex
%             ^ variable.other.math.tex
%               ^ keyword.operator.arithmetic.tex
%                 ^ variable.other.math.tex
%                   ^ keyword.operator.arithmetic.tex
%                     ^ variable.other.math.tex
%                      ^ keyword.operator.arithmetic.tex

  a < b <= c
% ^ variable.other.math.tex
%   ^ keyword.operator.comparison.tex
%     ^ variable.other.math.tex
%       ^^ keyword.operator.comparison.tex
%          ^ variable.other.math.tex

  a > b >= c
% ^ variable.other.math.tex
%   ^ keyword.operator.comparison.tex
%     ^ variable.other.math.tex
%       ^^ keyword.operator.comparison.tex
%          ^ variable.other.math.tex

  a_n^2
% ^ variable.other.math.tex
%  ^ punctuation.separator.indice.tex
%   ^ variable.other.math.tex
%    ^ keyword.operator.arithmetic.tex
%     ^ meta.number.integer.decimal.tex constant.numeric.value.tex

$$

 $\sum_{i=1}^{1} i^2$
%^^^^^^^^^^^^^^^^^^^^ meta.environment.math.inline.dollar.
% ^ punctuation.definition.backslash.tex
% ^^^^ keyword.other.math.large-operator.tex
